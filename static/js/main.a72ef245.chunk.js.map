{"version":3,"sources":["components/AddCardForm/index.module.css","components/Header/index.module.css","components/Board/index.module.css","components/Card/index.module.css","components/App/index.module.css","utils/useLocalStorage.js","components/Header/index.js","components/Board/index.js","utils/useWhyDidYouUpdate.js","components/Card/index.js","components/AddCardForm/index.js","components/Column/index.js","components/App/index.js","index.js","components/Column/index.module.css"],"names":["module","exports","useLocalStorage","initial","useState","value","window","localStorage","getItem","JSON","parse","error","console","warn","storedValue","setStoredValue","setValue","setItem","stringify","addEventListener","e","newValue","oldValue","Header","className","styles","main","title","Board","children","css","board","backend","HTML5Backend","useWhyDidYouUpdate","name","props","previousProps","useRef","useEffect","current","allKeys","Object","keys","changesObj","forEach","key","from","to","length","log","Card","description","email","sortCard","column","index","ref","useDrop","accept","hover","item","monitor","dragIndex","hoverIndex","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","top","hoverClientY","getClientOffset","y","drop","useDrag","type","collect","isDragging","drag","card","src","md5","alt","AddCardForm","addCard","close","values","setValues","handleSubmit","preventDefault","onSubmit","cardForm","htmlFor","autoFocus","id","onChange","target","buttonRow","onClick","saveButton","Column","changeCardColumn","columns","showAdd","setShowAdd","isFull","filter","c","map","header","disabled","add","cardList","state","sortCards","currentIndex","sortedCards","splice","changeColumn","sourceColumn","newSource","App","Done","cards","setCards","setNewCard","useCallback","setSort","a","setColumn","appContainer","i","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a72ef245.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardForm\":\"AddCardForm_cardForm__2Uzna\",\"saveButton\":\"AddCardForm_saveButton__3JPnU\",\"buttonRow\":\"AddCardForm_buttonRow__At559\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Header_main__2QXqG\",\"title\":\"Header_title__2OsWY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"board\":\"Board_board__ISE_Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__3JaBr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appContainer\":\"App_appContainer__31l6S\"};","import { useState } from 'react';\nconst STORAGE_KEY = '_kanban_Takehome';\n\nconst useLocalStorage = initial => {\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const value = window.localStorage.getItem(STORAGE_KEY);\n      return value ? JSON.parse(value) : initial;\n    } catch (error) {\n      console.warn(error);\n      return initial;\n    }\n  });\n  const setValue = value => {\n    try {\n      setStoredValue(value);\n      window.localStorage.setItem(STORAGE_KEY, JSON.stringify(value));\n    } catch (error) {\n      console.warn(error);\n    }\n  };\n  window.addEventListener('storage', function(e) {\n    if (e.newValue !== e.oldValue) setValue(JSON.parse(e.newValue));\n  });\n  return [storedValue, setValue];\n};\n\nexport default useLocalStorage;\n","import React from 'react';\n\nimport styles from './index.module.css';\n\nexport default function Header() {\n  return (\n    <header className={styles.main}>\n      <h1 className={styles.title}>Kanban Take-Home Project</h1>\n    </header>\n  );\n}\n","import React from 'react';\nimport { DndProvider } from 'react-dnd';\nimport HTML5Backend from 'react-dnd-html5-backend';\n\nimport css from './index.module.css';\n\nexport default function Board({ children }) {\n  return (\n    <div className={css.board}>\n      <DndProvider backend={HTML5Backend}>{children}</DndProvider>\n    </div>\n  );\n}\n","import { useRef, useEffect } from 'react';\n\nfunction useWhyDidYouUpdate(name, props) {\n  const previousProps = useRef();\n  useEffect(() => {\n    if (previousProps.current) {\n      const allKeys = Object.keys({ ...previousProps.current, ...props });\n      const changesObj = {};\n      allKeys.forEach(key => {\n        if (previousProps.current[key] !== props[key]) {\n          changesObj[key] = {\n            from: previousProps.current[key],\n            to: props[key],\n          };\n        }\n      });\n      if (Object.keys(changesObj).length) {\n        console.log(`${name} updated because:`, changesObj);\n      }\n    }\n    previousProps.current = props;\n  });\n}\nexport default useWhyDidYouUpdate;\n","import React, { useRef } from 'react';\nimport md5 from 'md5';\nimport { useDrag, useDrop } from 'react-dnd';\nimport useWhyDidYouUpdate from '../../utils/useWhyDidYouUpdate';\n\nimport css from './index.module.css';\n\nconst Card = props => {\n  const { title, description, email = '', sortCard, column, index } = props;\n  useWhyDidYouUpdate('Card', props);\n  const ref = useRef(null);\n  const [, drop] = useDrop({\n    accept: 'card-' + column,\n    hover(item, monitor) {\n      if (!ref.current) return;\n      const dragIndex = item.index;\n      const hoverIndex = index;\n      if (dragIndex === hoverIndex) return;\n      const hoverBoundingRect = ref.current.getBoundingClientRect();\n      const hoverMiddleY =\n        (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n      const clientOffset = monitor.getClientOffset();\n      const hoverClientY = clientOffset.y - hoverBoundingRect.top;\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) return;\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) return;\n      sortCard(dragIndex, hoverIndex, column);\n      item.index = hoverIndex;\n    },\n  });\n  const [, drag] = useDrag({\n    item: { type: 'card-' + column, title, column, index },\n    collect: monitor => ({\n      isDragging: monitor.isDragging(),\n    }),\n  });\n  drag(drop(ref));\n  return (\n    <li ref={ref} className={css.card}>\n      <h3>\n        <img\n          src={`https://www.gravatar.com/avatar/${md5(email)}?s=24`}\n          alt={email}\n        />\n        {title}\n      </h3>\n      <p>{description}</p>\n    </li>\n  );\n};\n\nexport default Card;\n","import React, { useState } from 'react';\n\nimport css from './index.module.css';\n\nfunction AddCardForm({ addCard, close }) {\n  const [values, setValues] = useState({\n    title: '',\n    description: '',\n    email: '',\n  });\n  const handleSubmit = e => {\n    e.preventDefault();\n    addCard(values);\n    close();\n  };\n  return (\n    <form onSubmit={handleSubmit} className={css.cardForm}>\n      <label htmlFor=\"title\">Title</label>\n      <input\n        autoFocus\n        name=\"title\"\n        id=\"title\"\n        value={values.title}\n        onChange={e => setValues({ ...values, title: e.target.value })}\n      />\n      <label htmlFor=\"user\">Email</label>\n      <input\n        name=\"email\"\n        id=\"email\"\n        value={values.email}\n        onChange={e => setValues({ ...values, email: e.target.value })}\n      />\n      <label htmlFor=\"description\">Description</label>\n      <textarea\n        name=\"description\"\n        id=\"description\"\n        value={values.description}\n        onChange={e => setValues({ ...values, description: e.target.value })}\n      />\n      <div className={css.buttonRow}>\n        <button onClick={close}>Cancel</button>\n        <button onClick={handleSubmit} className={css.saveButton}>\n          Save task\n        </button>\n      </div>\n    </form>\n  );\n}\n\nexport default AddCardForm;\n","import React, { useState, useRef } from 'react';\nimport { useDrop } from 'react-dnd';\nimport AddCardForm from '../AddCardForm';\nimport useWhyDidYouUpdate from '../../utils/useWhyDidYouUpdate';\n\nimport css from './index.module.css';\n\nconst MAX_CARDS_PER_COLUMN = 100;\n\nconst Column = props => {\n  const { title, children, addCard, changeCardColumn, columns } = props;\n  useWhyDidYouUpdate('Card', props);\n  const [showAdd, setShowAdd] = useState();\n  const isFull = children && children.length >= MAX_CARDS_PER_COLUMN;\n  const accept = columns.filter(c => c !== title).map(c => 'card-' + c);\n  const ref = useRef(null);\n  const [, drop] = useDrop({\n    accept,\n    drop(item) {\n      if (!ref.current) return;\n      if (item.column === title) return;\n      changeCardColumn(item.index, item.column, title);\n      item.column = title;\n    },\n  });\n  drop(ref);\n  return (\n    <div className={css.column} ref={ref}>\n      <div className={css.header}>\n        <h2>{title}</h2>\n        <button\n          disabled={isFull}\n          className={css.add}\n          onClick={() => setShowAdd(true)}\n        >\n          +\n        </button>\n        {!isFull && showAdd ? (\n          <AddCardForm addCard={addCard} close={() => setShowAdd(false)} />\n        ) : null}\n      </div>\n      <ul className={css.cardList}>{children}</ul>\n    </div>\n  );\n};\n\nexport default Column;\n","import React, { useCallback } from 'react';\n\nimport useLocalStorage from '../../utils/useLocalStorage';\nimport Header from '../Header';\nimport Board from '../Board';\nimport Card from '../Card';\nimport Column from '../Column';\n\nimport css from './index.module.css';\n\nexport const addCard = (state, card) => {\n  return {\n    ...state,\n    [card.column]: [...state[card.column], card],\n  };\n};\n\nexport const sortCards = (state, currentIndex, hoverIndex, column) => {\n  const sortedCards = [...state[column]];\n  sortedCards.splice(currentIndex, 1);\n  sortedCards.splice(hoverIndex, 0, state[column][currentIndex]);\n  return { ...state, [column]: sortedCards };\n};\n\nexport const changeColumn = (state, index, sourceColumn, column) => {\n  const newSource = [...state[sourceColumn]];\n  newSource.splice(index, 1);\n  return {\n    ...state,\n    [sourceColumn]: newSource,\n    [column]: [...state[column], { ...state[sourceColumn][index], column }],\n  };\n};\n\nfunction App() {\n  const [cards, setCards] = useLocalStorage({\n    'To do': [\n      { title: 'Three', description: 'Test card 3', email: 'me@example.com' },\n    ],\n    'In progress': [\n      { title: 'Two', description: 'Test card 2', email: 'me@example.com' },\n    ],\n    Done: [\n      { title: 'One', description: 'Test card 1', email: 'me@example.com' },\n    ],\n  });\n  const columns = Object.keys(cards);\n\n  const setNewCard = useCallback(c => setCards(addCard(cards, c)), [\n    cards,\n    setCards,\n  ]);\n\n  const setSort = useCallback((...a) => setCards(sortCards(cards, ...a)), [\n    cards,\n    setCards,\n  ]);\n\n  const setColumn = useCallback((...a) => setCards(changeColumn(cards, ...a)), [\n    cards,\n    setCards,\n  ]);\n\n  return (\n    <div className={css.appContainer}>\n      <Header />\n      <Board>\n        {columns.map(column => {\n          return (\n            <Column\n              key={column}\n              title={column}\n              columns={columns}\n              addCard={card => setNewCard({ ...card, column })}\n              changeCardColumn={setColumn}\n            >\n              {cards[column].map((card, i) => (\n                <Card\n                  {...card}\n                  key={card.title}\n                  column={column}\n                  index={i}\n                  sortCard={setSort}\n                />\n              ))}\n            </Column>\n          );\n        })}\n      </Board>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"column\":\"Column_column__1W1Lb\",\"header\":\"Column_header__1yJXU\",\"add\":\"Column_add__275Ou\"};"],"sourceRoot":""}